language: python

python: "3.5"

dist: bionic

services:
    - docker

cache:
    - pip
    - npm

install:
    - docker-compose -f docker/docker-compose-travis.yml up -d

jobs: 
    include:
        - script: cd server && pip install -r dev-requirements.txt && flake8 && nosetests
          name: "server"
        - script: cd client && npm install && npm run lint && npx grunt build
          name: "client"
          env: NODE_OPTIONS=--max_old_space_size=4096 

