<ul ng-if="!loading && items.length" class="inline-content-items content-tasks" >
	<li ng-repeat="item in items track by item._id" class="content-item content-item--no-border shifted" ng-if="!online || isLoggedIn(item)">
		<figure class="avatar avatar-with-info small" title="{{item.display_name}}" ng-class="{'user-logged': isLoggedIn(item)}">
			<div class="logged-info"></div>
			<div class="user-image">
				<img sd-user-avatar data-user="item">
			</div>
		</figure>
		<div class="content-item__text">
			{{item.display_name}}
		</div>
        
        <div class="content-item__action" ng-if="privilege">
            <button ng-click="openEditUser(item)" title="{{ :: 'Edit user' | translate }}"><i class="icon-pencil"></i></button>
        </div>
	</li>
</ul>

<div sd-modal data-model="user" class="user-profile-page">
    <div class="modal-header">
        <a href="" class="close" ng-click="closeEditUser()"><i class="icon-close-small"></i></a>
        <h3 translate>Edit user</h3>
    </div>
    <div class="modal-body">
        <div class="user-details-pane" sd-user-edit data-user="user" data-oncancel="closeEditUser()" data-onsave="closeEditUser()"></div>
    </div>
</div>