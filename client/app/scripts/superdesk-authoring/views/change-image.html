<div class="modal-header">
    <h3 class="pull-left">{{ activity.label|translate }}</h3>
    <button type="button" class="close" ng-click="close()"><i class="icon-close-small"></i></button>
</div>

<div class="modal-body">
    <section class="main">
        <div id="dynBoxId2" class="preview">
          <div class="original">
            <div class="crop-area image">
                <ul> 
                    <li ng-repeat="rendition in data.renditions track by rendition.name">
                    <label class="field-label" ng-if="data.renditions.length > 1">{{ rendition.name }}</label>
                    <div sd-image-crop
                        data-show-Min-Size-Error="true"
                        data-box-width="600" 
                        data-box-height="400"
                        data-src="data.item.renditions.viewImage.href"
                        data-original="data.item.renditions.original"
                        data-rendition="rendition"
                        data-crop-init="data.item.renditions[rendition.name]"
                        data-crop-data="data.cropData[rendition.name]"
                        data-on-change="data.isDirty = true">
                    </div>

                    <fieldset
                        ng-if="data.renditions.length === 1 && data.cropData[rendition.name]">
                        <br>
                        <label for="max-width-input" translate>Max width</label>
                        <input type="number"
                            id="max-width-input"
                            class="input-small"
                            ng-model="data.cropData[rendition.name].width"
                            min="1"
                            placeholder="{{ data.cropData[rendition.name].CropRight - data.cropData[rendition.name].CropLeft }}">
                        <label for="max-height-input" translate>Max height</label>
                        <input type="number"
                            id="max-height-input"
                            class="input-small"
                            ng-model="data.cropData[rendition.name].height"
                            min="1"
                            placeholder="{{ data.cropData[rendition.name].CropBottom - data.cropData[rendition.name].CropTop }}">
                    </fieldset>
                    <br>
                    </li>
                </ul>
            </div>
          </div>
        </div>
    </section>
</div>

<div class="modal-footer">
    <button
        type="button"
        class="btn btn-medium btn-info"
        ng-click="remove()"
        ng-disabled="!data.removable"
        translate
    >Remove</button>
    <button
        type="button"
        class="btn btn-medium btn-info"
        ng-click="done()"
        ng-disabled="!data.isDirty"
        translate
    >Save</button>
</div>
