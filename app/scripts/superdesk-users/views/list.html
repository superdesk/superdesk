<div class="subnav subnav-fixed">

    <h3 class="page-nav-title" translate>Users</h3>

    <div class="button-stack right-stack">
        <a class="navbtn navbtn-info navbtn-hover" href="" ng-click="createUser()">
            <i class="svg-icon-add inverse"></i> <span class="title" translate>Add new</span>
        </a>

        <div class="dropdown navbtn">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="svg-icon-settings"></i></a>
        </div>
    </div>
</div>

<section class="main-section users">
    <div class="users-subnav">
        <div sd-searchbar></div>
        <div sd-pagination
            data-items="users"
            data-limit="maxResults"></div>
    </div>

    <div class="preview-layout" ng-class="{closed: !selected.user}">
        <div class="list-pane">

            <div class="users-table">
                <ul class="table-header">
                    <li>
                        <div class="avatar"></div>
                        <div class="row-wrapper">
                            <div class="name" sd-sort data-label="{{ 'Full name' | translate }}" data-field="full_name"></div>
                            <div class="username" sd-sort data-label="{{ 'Username' | translate }}" data-field="username"></div>
                            <div class="role" ng-show translate>Role</div>
                            <div class="email" sd-sort data-label="{{ 'Email' | translate }}" data-field="email"></div>
                            <div class="created" sd-sort data-label="{{ 'Created' | translate }}" data-field="_created"></div>
                        </div>
                    </li>
                </ul>

                <div class="table-title" ng-show="createdUsers.length" translate>Recently added</div>

                <ul class="table-newest"
                    sd-user-list
                    data-users="createdUsers"
                    data-selected="selected.user"
                    data-done="afterDelete"
                    ng-if="createdUsers.length"
                ></ul>

                <ul class="table-body"
                    sd-user-list
                    data-users="users._items"
                    data-selected="selected.user"
                    data-done="afterDelete"
                ></ul>

            </div>
        </div>

        <div class="preview-pane">
            <div class="actions" ng-if="selected.user">
                <a ng-href="" ng-click="intent('detail', 'user', selected.user)" ng-show="selected.user._id" class="btn btn-light pull-left" translate>View full profile</a>
                <div class="close" ng-click="selected.user = null"><i class="icon-close-small"></i></div>
            </div>

            <div sd-user-details-pane ng-if="selected.user">
                <div id="user-profile-edit" sd-user-edit data-user="selected.user" data-onsave="render(user)" data-oncancel="closePreview()"></div>
            </div>
        </div>
    </div>
</setion>